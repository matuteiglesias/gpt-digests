[importlinter]
root_package = digests_project.bags_pipeline

[contracts]
# L2 must not import L1
name = "L2 analytics does not import unitize"
type = forbidden
source_modules =
    digests_project.bags_pipeline.pairs
forbidden_modules =
    digests_project.bags_pipeline.unitize

# Bridges can import up or down, but analytics must not import bridges
name = "Analytics doesn't import bridges"
type = forbidden
source_modules =
    digests_project.bags_pipeline.pairs
forbidden_modules =
    digests_project.bags_pipeline.eda_bridge

# Config/normalize must stay pure (no pandas/networkx)
name = "Normalize is pure"
type = forbidden
source_modules =
    digests_project.bags_pipeline.normalize
forbidden_modules =
    pandas
    networkx
